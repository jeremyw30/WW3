<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Test API Google Sheets</title>
</head>
<body>
  <h1>Test API</h1>
  <button onclick="testAPI()">Tester l'API</button>
  <pre id="result"></pre>

  <script>
    async function testAPI() {
      const result = document.getElementById('result');
      result.textContent = 'Chargement...';
      
      try {
        const res = await fetch("https://script.google.com/macros/s/AKfycbwtTUlQysKpwXDZV614qWx1-0B6lei4s5mowpl-jBRryvliIGFkU947xUihbm2bElll/exec", { cache: "no-store" });
        const data = await res.json();
        result.textContent = JSON.stringify(data, null, 2);
      } catch (e) {
        result.textContent = 'Erreur: ' + e.message;
      }
    }
  </script>
</body>
</html>
